<div class="intl-tel-input allow-dropdown">
  <clr-dropdown #clrDropdown>
    <button type="button" class="btn btn-sm btn-outline-primary" clrDropdownTrigger>
      +{{ selectedCountry?.dialCode }}
      <clr-icon shape="caret down"></clr-icon>
    </button>
    <clr-dropdown-menu clrPosition="bottom-left" class="clr-dropdown-menu" *clrIfOpen>
      <button *ngFor="let country of preferredCountriesInDropDown" clrDropdownItem type="button"
        (click)="onCountrySelect(country)">
        <span class="country-name">{{country.name}}</span>
        <span class="dial-code">( +{{country?.dialCode}} )</span>
      </button>
      <div class="dropdown-divider"></div>
      <cdk-virtual-scroll-viewport class="countries-viewport" itemSize="20">
        <button *cdkVirtualFor="let country of allCountries" type="button" clrDropdownItem
          (click)="onCountrySelect(country)">
          <span class="country-name">{{country?.name}}</span>
          <span class="dial-code"> (+{{country?.dialCode}} )</span>
        </button>
      </cdk-virtual-scroll-viewport>
    </clr-dropdown-menu>
  </clr-dropdown>
  <input #phoneControlElement type="tel" id="phone" [class]="controlClass" autocomplete="off"
    (keypress)="onInputKeyPress($event)" [formControl]="phoneControl" [placeholder]="selectedCountry.placeHolder"
    #focusable>
  <input type="hidden" [formControl]="control" />
</div>
<small class="field-has-error" *ngIf="
(control.hasError('invalidPhoneNumber') && (phoneControl.touched || control.touched)) ||
(control.hasError('required') && (phoneControl.touched || control.touched))" [translate]="'validation.phone'"
  [translateParams]="{value: '(Ex: 228 90050505)'}"></small>
